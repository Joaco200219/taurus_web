---
import ProductCard from "./ProductCard.astro";

export interface Props {
  id: string;
  category: string;
  emoji: string;
  categoryKey: string;
  products: Array<{
    id: string;
    nombre: string;
    descripcion: string;
    precio: number;
    imagen: string;
    badge?: string | null;
    categoria?: string;
  }>;
}

const { id, category, categoryKey, products } = Astro.props;
---

<section id={id} class="mb-8" style="scroll-margin-top: 130px;">
  <!-- Category header — scoreboard / stadium style -->
  <div class="flex items-center gap-0 px-4 mb-3">
    <!-- Red left accent bar -->
    <div
      style="width: 5px; height: 100%; min-height: 36px; background: #D81120; flex-shrink: 0;"
    >
    </div>
    <!-- Title block -->
    <div
      class="flex-1 flex items-center justify-between px-3 py-2"
      style="background: #1A1A1A;"
    >
      <h2
        style="font-family: 'Anton', sans-serif; font-size: 1.45rem; color: #FFFFFF; line-height: 1; letter-spacing: 0.06em; text-transform: uppercase; margin: 0;"
      >
        {category}
      </h2>
      <!-- Count badge — scoreboard number -->
      <span
        style="font-family: 'Anton', sans-serif; font-size: 1rem; background: #D81120; color: #FFFFFF; padding: 2px 10px; letter-spacing: 0.04em; line-height: 1.5;"
      >
        {products.length}
      </span>
    </div>
  </div>

  <!-- Product list -->
  <div class="flex flex-col gap-[2px] px-4">
    {
      products.map((product) => (
        <ProductCard
          id={product.id}
          nombre={product.nombre}
          descripcion={product.descripcion}
          precio={product.precio}
          imagen={product.imagen}
          badge={product.badge}
          categoria={product.categoria || categoryKey}
        />
      ))
    }
  </div>
</section>
