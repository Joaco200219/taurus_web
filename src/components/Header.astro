---
// Header — Taurus Burgers
// Estadio: dark, compact, marca centrada
---

<header
  class="theme-header sticky top-0 z-50 w-full"
  style="background: #0A0A0A;"
>
  <!-- Red top stripe — field line -->
  <div
    style="height: 3px; background: linear-gradient(90deg, #D81120, #FF2233, #D81120); width: 100%;"
  >
  </div>

  <div class="max-w-4xl mx-auto px-4 py-2.5">
    <div class="flex items-center justify-between gap-3">
      <!-- LEFT: Logo image -->
      <div class="flex-shrink-0 flex items-center" style="min-width: 4rem;">
        <img
          src="/logo.png"
          alt="Taurus Burgers"
          style="height: 2.8rem; width: auto; object-fit: contain;"
        />
      </div>

      <!-- CENTER: Text logo - marca del estadio -->
      <div class="flex flex-col items-center flex-1">
        <span
          style="font-family: 'Anton', sans-serif; color: #FFFFFF; font-size: clamp(1.5rem, 6.5vw, 2.2rem); line-height: 1; letter-spacing: 0.04em; text-transform: uppercase;"
        >
          <span style="color: #D81120;">TAURUS</span> BURGERS
        </span>
        <span
          style="font-family: 'Inter', sans-serif; color: #888888; font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; margin-top: 1px;"
          >STREET FOOD</span
        >
      </div>

      <!-- RIGHT: Open/Closed Badge -->
      <div
        id="hours-badge"
        class="flex-shrink-0 flex items-center gap-1.5 px-2.5 py-1"
        style="background: #111111; color: #4CAF50; border: 1px solid #2A2A2A; font-family: 'Anton', sans-serif; font-size: 0.6rem; letter-spacing: 0.12em; min-width: 5rem; justify-content: center;"
      >
        <span
          id="hours-dot"
          class="w-1.5 h-1.5 rounded-full animate-pulse flex-shrink-0"
          style="background: #4CAF50;"></span>
        <span id="hours-label">ABIERTO</span>
      </div>
    </div>
  </div>

  <!-- Bottom red line -->
  <div style="height: 2px; background: #D81120; width: 100%;"></div>
</header>

<script>
  const TIMEZONE = "America/Argentina/Buenos_Aires";

  function getArgentinaTime() {
    const now = new Date();
    const formatter = new Intl.DateTimeFormat("en-US", {
      timeZone: TIMEZONE,
      hour12: false,
      weekday: "short",
      hour: "numeric",
      minute: "numeric",
    });

    const parts = formatter.formatToParts(now);
    const weekdayStr = parts.find((p) => p.type === "weekday")?.value || "";
    const hour = parseInt(
      parts.find((p) => p.type === "hour")?.value || "0",
      10
    );
    const minute = parseInt(
      parts.find((p) => p.type === "minute")?.value || "0",
      10
    );

    const dayMap: Record<string, number> = {
      Sun: 0,
      Mon: 1,
      Tue: 2,
      Wed: 3,
      Thu: 4,
      Fri: 5,
      Sat: 6,
    };
    const day = dayMap[weekdayStr] ?? new Date().getDay();
    return { day, hour, minute };
  }

  function isOpen(): boolean {
    const { day, hour, minute } = getArgentinaTime();
    const totalMins = hour * 60 + minute;

    if (day === 1 || day === 2) return false;
    if (day === 3 || day === 4)
      return totalMins >= 20 * 60 && totalMins <= 23 * 60 + 30;
    if (totalMins <= 30 && (day === 6 || day === 0 || day === 1)) return true;
    if (day === 5 || day === 6 || day === 0) return totalMins >= 20 * 60;
    return false;
  }

  function updateBadge() {
    const badge = document.getElementById("hours-badge");
    const dot = document.getElementById("hours-dot");
    const label = document.getElementById("hours-label");
    if (!badge || !dot || !label) return;

    if (isOpen()) {
      badge.style.background = "#111111";
      badge.style.color = "#4CAF50";
      badge.style.border = "1px solid #2A2A2A";
      dot.style.background = "#4CAF50";
      dot.classList.add("animate-pulse");
      label.textContent = "ABIERTO";
    } else {
      badge.style.background = "#D81120";
      badge.style.color = "#FFFFFF";
      badge.style.border = "1px solid #D81120";
      dot.style.background = "#FFFFFF";
      dot.classList.remove("animate-pulse");
      label.textContent = "CERRADO";
    }
  }

  updateBadge();
  setInterval(updateBadge, 60_000);
</script>
